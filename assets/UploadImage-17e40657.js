import{ab as ei,ac as xt,ad as ti,ae as St,af as Mt,ag as vt,D as da,ah as ha,ai as fa,aj as Ze,i as pa,N as Ye,Q as ie,ak as ai,al as _t,L as Ae,am as ii,an as ni,ao as si,ap as ri,aq as X,x as ne,y as A,P as V,d as N,ar as ae,as as k,Z as va,at as oi,$ as ga,K as Qe,au as li,H as L,o as M,c as H,l as K,U as x,b as f,T as Te,e as R,a3 as Z,av as ma,aw as oe,a4 as P,W as le,X as ge,ax as ci,ay as ui,az as di,aA as hi,aB as fi,aC as Ot,r as G,aD as pi,aE as vi,G as gi,aF as At,aG as ya,aH as Rt,a2 as ba,w as mi,aI as yi,aJ as Je,aK as et,aL as bi,aM as wi,aN as Ei,a7 as He,aO as Ci,aP as wa,aQ as Di,aR as Ea,aS as Ca,aT as Ti,Y as tt,C as we,B as Be,aU as Da,aV as xi,f as Ta,aW as kt,aX as Si,aY as xa,aZ as at,a_ as We,a5 as Mi,a6 as _i,a$ as Sa,b0 as Ee,b1 as Oi,b2 as Ai,b3 as Ri,b4 as ki,J as it,b5 as Lt,b6 as Li,b7 as Ni,O as $i,b8 as Pi,_ as Ii,j as Bi,p as Ui,k as zi,b9 as Yi}from"./index-9406a8c2.js";import{U as Ma}from"./event-9519ab40.js";import{b as Hi,U as Nt,g as $t,a as Pt,i as It,S as Ge,c as Wi}from "./baseClone-28c0d56d.js";var Fi=1,Xi=4;function Bt(i){return Hi(i,Fi|Xi)}var ji="__lodash_hash_undefined__";function Gi(i){return this.__data__.set(i,ji),this}function Vi(i){return this.__data__.has(i)}function Ue(i){var e=-1,a=i==null?0:i.length;for(this.__data__=new ei; ++e<a;)this.add(i[e])}Ue.prototype.add=Ue.prototype.push=Gi;Ue.prototype.has=Vi;function qi(i, e){for(var a=-1,t=i==null?0:i.length; ++a<t;)if(e(i[a],a,i))return!0;return!1}function Ki(i, e){return i.has(e)}var Zi=1,Qi=2;function _a(i, e, a, t, s, n){var r=a&Zi,o=i.length,h=e.length;if(o!=h&&!(r&&h>o))return!1;var u=n.get(i),d=n.get(e);if(u&&d)return u==e&&d==i;var c=-1,l=!0,v=a&Qi?new Ue:void 0;for(n.set(i,e),n.set(e,i); ++c<o;){var p=i[c],y=e[c];if(t)var w=r?t(y,p,c,e,i,n):t(p,y,c,i,e,n);if(w!==void 0){if(w)continue;l=!1;break}if(v){if(!qi(e,function(b, C){if(!Ki(v,C)&&(p===b||s(p,b,a,t,n)))return v.push(C)})){l=!1;break}}else if(!(p===y||s(p,y,a,t,n))){l=!1;break}}return n.delete(i),n.delete(e),l}function Ji(i){var e=-1,a=Array(i.size);return i.forEach(function(t, s){a[++e]=[s,t]}),a}function en(i){var e=-1,a=Array(i.size);return i.forEach(function(t){a[++e]=t}),a}var tn=1,an=2,nn="[object Boolean]",sn="[object Date]",rn="[object Error]",on="[object Map]",ln="[object Number]",cn="[object RegExp]",un="[object Set]",dn="[object String]",hn="[object Symbol]",fn="[object ArrayBuffer]",pn="[object DataView]",Ut=xt?xt.prototype:void 0,Ve=Ut?Ut.valueOf:void 0;function vn(i, e, a, t, s, n, r){switch(a){case pn:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case fn:return!(i.byteLength!=e.byteLength||!n(new Nt(i),new Nt(e)));case nn:case sn:case ln:return ti(+i,+e);case rn:return i.name==e.name&&i.message==e.message;case cn:case dn:return i==e+"";case on:var o=Ji;case un:var h=t&tn;if(o||(o=en),i.size!=e.size&&!h)return!1;var u=r.get(i);if(u)return u==e;t|=an,r.set(i,e);var d=_a(o(i),o(e),t,s,n,r);return r.delete(i),d;case hn:if(Ve)return Ve.call(i)==Ve.call(e)}return!1}var gn=1,mn=Object.prototype,yn=mn.hasOwnProperty;function bn(i, e, a, t, s, n){var r=a&gn,o=$t(i),h=o.length,u=$t(e),d=u.length;if(h!=d&&!r)return!1;for(var c=h; c--;){var l=o[c];if(!(r?l in e:yn.call(e,l)))return!1}var v=n.get(i),p=n.get(e);if(v&&p)return v==e&&p==i;var y=!0;n.set(i,e),n.set(e,i);for(var w=r; ++c<h;){l=o[c];var b=i[l],C=e[l];if(t)var m=r?t(C,b,l,e,i,n):t(b,C,l,i,e,n);if(!(m===void 0?b===C||s(b,C,a,t,n):m)){y=!1;break}w||(w=l=="constructor")}if(y&&!w){var _=i.constructor,T=e.constructor;_!=T&&"constructor"in i&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof T=="function"&&T instanceof T)&&(y=!1)}return n.delete(i),n.delete(e),y}var wn=1,zt="[object Arguments]",Yt="[object Array]",Ne="[object Object]",En=Object.prototype,Ht=En.hasOwnProperty;function Cn(i, e, a, t, s, n){var r=St(i),o=St(e),h=r?Yt:Pt(i),u=o?Yt:Pt(e);h=h==zt?Ne:h,u=u==zt?Ne:u;var d=h==Ne,c=u==Ne,l=h==u;if(l&&It(i)){if(!It(e))return!1;r=!0,d=!1}if(l&&!d)return n||(n=new Ge),r||Wi(i)?_a(i,e,a,t,s,n):vn(i,e,h,a,t,s,n);if(!(a&wn)){var v=d&&Ht.call(i,"__wrapped__"),p=c&&Ht.call(e,"__wrapped__");if(v||p){var y=v?i.value():i,w=p?e.value():e;return n||(n=new Ge),s(y,w,a,t,n)}}return l?(n||(n=new Ge),bn(i,e,a,t,s,n)):!1}function Oa(i, e, a, t, s){return i===e?!0:i==null||e==null||!Mt(i)&&!Mt(e)?i!==i&&e!==e:Cn(i,e,a,t,Oa,s)}function Dn(i, e){return Oa(i,e)}let $e;const Tn= i=>{var e;if(!vt)return 0;if($e!==void 0)return $e;const a=document.createElement("div");a.className=`${i}-scrollbar__wrap`,a.style.visibility="hidden",a.style.width="100px",a.style.position="absolute",a.style.top="-9999px",document.body.appendChild(a);const t=a.offsetWidth;a.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",a.appendChild(s);const n=s.offsetWidth;return(e=a.parentNode)==null||e.removeChild(a),$e=t-n,$e},xn=(i, e, a)=>{let t={offsetX:0,offsetY:0};const s= o=>{const h=o.clientX,u=o.clientY,{offsetX:d,offsetY:c}=t,l=i.value.getBoundingClientRect(),v=l.left,p=l.top,y=l.width,w=l.height,b=document.documentElement.clientWidth,C=document.documentElement.clientHeight,m=-v+d,_=-p+c,T=b-v-y+d,g=C-p-w+c,E= B=>{const D=Math.min(Math.max(d+B.clientX-h,m),T),U=Math.min(Math.max(c+B.clientY-u,_),g);t={offsetX:D,offsetY:U},i.value.style.transform=`translate(${Ze(D)}, ${Ze(U)})`},O=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",O)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",O)},n=()=>{e.value&&i.value&&e.value.addEventListener("mousedown",s)},r=()=>{e.value&&i.value&&e.value.removeEventListener("mousedown",s)};da(()=>{ha(()=>{a.value?n():r()})}),fa(()=>{r()})},Sn=(i, e={})=>{pa(i)||Ye("[useLockscreen]","You need to pass a ref param to this function");const a=e.ns||ie("popup"),t=ai(()=>a.bm("parent","hidden"));if(!vt||_t(document.body,t.value))return;let s=0,n=!1,r="0";const o=()=>{setTimeout(()=>{ri(document==null?void 0:document.body,t.value),n&&document&&(document.body.style.width=r)},200)};Ae(i, h=>{if(!h){o();return}n=!_t(document.body,t.value),n&&(r=document.body.style.width),s=Tn(a.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,d=ii(document.body,"overflowY");s>0&&(u||d==="scroll")&&n&&(document.body.style.width=`calc(100% - ${s}px)`),ni(document.body,t.value)}),si(()=>o())},Aa= i=>{if(!i)return{onClick:X,onMousedown:X,onMouseup:X};let e=!1,a=!1;return{onClick: r=>{e&&a&&i(r),e=a=!1},onMousedown: r=>{e=r.target===r.currentTarget},onMouseup: r=>{a=r.target===r.currentTarget}}},Mn=ne({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:A([String,Array,Object])},zIndex:{type:A([String,Number])}}),_n={click: i=>i instanceof MouseEvent},On="overlay";var An=V({name:"ElOverlay",props:Mn,emits:_n,setup(i, {slots:e,emit:a}){const t=ie(On),s= h=>{a("click",h)},{onClick:n,onMousedown:r,onMouseup:o}=Aa(i.customMaskEvent?void 0:s);return()=>i.mask?N("div",{class:[t.b(),i.overlayClass],style:{zIndex:i.zIndex},onClick:n,onMousedown:r,onMouseup:o},[k(e,"default")],ae.STYLE|ae.CLASS|ae.PROPS,["onClick","onMouseup","onMousedown"]):va("div",{class:i.overlayClass,style:{zIndex:i.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[k(e,"default")])}});const Rn=An,Ra=Symbol("dialogInjectionKey"),ka=ne({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:oi},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),kn={close:()=>!0},Ln=["aria-label"],Nn=["id"],$n=V({name:"ElDialogContent"}),Pn=V({...$n,props:ka,emits:kn,setup(i){const e=i,{t:a}=ga(),{Close:t}=ci,{dialogRef:s,headerRef:n,bodyId:r,ns:o,style:h}=Qe(Ra),{focusTrapRef:u}=Qe(li),d=ui(u,s),c=L(()=>e.draggable);return xn(s,n,c),(l, v)=>(M(),H("div",{ref:f(d),class:x([f(o).b(),f(o).is("fullscreen",l.fullscreen),f(o).is("draggable",f(c)),f(o).is("align-center",l.alignCenter),{[f(o).m("center")]:l.center},l.customClass]),style:le(f(h)),tabindex:"-1"},[K("header",{ref_key:"headerRef",ref:n,class:x(f(o).e("header"))},[k(l.$slots,"header",{},()=>[K("span",{role:"heading",class:x(f(o).e("title"))},Te(l.title),3)]),l.showClose?(M(),H("button",{key:0,"aria-label":f(a)("el.dialog.close"),class:x(f(o).e("headerbtn")),type:"button",onClick:v[0]||(v[0]= p=>l.$emit("close"))},[N(f(oe),{class:x(f(o).e("close"))},{default:R(()=>[(M(),Z(ma(l.closeIcon||f(t))))]),_:1},8,["class"])],10,Ln)):P("v-if",!0)],2),K("div",{id:f(r),class:x(f(o).e("body"))},[k(l.$slots,"default")],10,Nn),l.$slots.footer?(M(),H("footer",{key:0,class:x(f(o).e("footer"))},[k(l.$slots,"footer")],2)):P("v-if",!0)],6))}});var In=ge(Pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Bn=ne({...ka,appendToBody:{type:Boolean,default:!1},beforeClose:{type:A(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Un={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ma]: i=>di(i),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},zn=(i, e)=>{const t=hi().emit,{nextZIndex:s}=fi();let n="";const r=Ot(),o=Ot(),h=G(!1),u=G(!1),d=G(!1),c=G(i.zIndex||s());let l,v;const p=pi("namespace",vi),y=L(()=>{const z={},Y=`--${p.value}-dialog`;return i.fullscreen||(i.top&&(z[`${Y}-margin-top`]=i.top),i.width&&(z[`${Y}-width`]=Ze(i.width))),z}),w=L(()=>i.alignCenter?{display:"flex"}:{});function b(){t("opened")}function C(){t("closed"),t(Ma,!1),i.destroyOnClose&&(d.value=!1)}function m(){t("close")}function _(){v==null||v(),l==null||l(),i.openDelay&&i.openDelay>0?{stop:l}=At(()=>O(),i.openDelay):O()}function T(){l==null||l(),v==null||v(),i.closeDelay&&i.closeDelay>0?{stop:v}=At(()=>B(),i.closeDelay):B()}function g(){function z(Y){Y||(u.value=!0,h.value=!1)}i.beforeClose?i.beforeClose(z):T()}function E(){i.closeOnClickModal&&g()}function O(){vt&&(h.value=!0)}function B(){h.value=!1}function D(){t("openAutoFocus")}function U(){t("closeAutoFocus")}function F(z){var Y;((Y=z.detail)==null?void 0:Y.focusReason)==="pointer"&&z.preventDefault()}i.lockScroll&&Sn(h);function q(){i.closeOnPressEscape&&g()}return Ae(()=>i.modelValue, z=>{z?(u.value=!1,_(),d.value=!0,c.value=i.zIndex?c.value++:s(),gi(()=>{t("open"),e.value&&(e.value.scrollTop=0)})):h.value&&T()}),Ae(()=>i.fullscreen, z=>{e.value&&(z?(n=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=n)}),da(()=>{i.modelValue&&(h.value=!0,d.value=!0,_())}),{afterEnter:b,afterLeave:C,beforeLeave:m,handleClose:g,onModalClick:E,close:T,doClose:B,onOpenAutoFocus:D,onCloseAutoFocus:U,onCloseRequested:q,onFocusoutPrevented:F,titleId:r,bodyId:o,closed:u,style:y,overlayDialogStyle:w,rendered:d,visible:h,zIndex:c}},Yn=["aria-label","aria-labelledby","aria-describedby"],Hn=V({name:"ElDialog",inheritAttrs:!1}),Wn=V({...Hn,props:Bn,emits:Un,setup(i, {expose:e}){const a=i,t=ya();Rt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!t.title)),Rt({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!a.customClass));const s=ie("dialog"),n=G(),r=G(),o=G(),{visible:h,titleId:u,bodyId:d,style:c,overlayDialogStyle:l,rendered:v,zIndex:p,afterEnter:y,afterLeave:w,beforeLeave:b,handleClose:C,onModalClick:m,onOpenAutoFocus:_,onCloseAutoFocus:T,onCloseRequested:g,onFocusoutPrevented:E}=zn(a,n);ba(Ra,{dialogRef:n,headerRef:r,bodyId:d,ns:s,rendered:v,style:c});const O=Aa(m),B=L(()=>a.draggable&&!a.fullscreen);return e({visible:h,dialogContentRef:o}),(D, U)=>(M(),Z(Ei,{to:"body",disabled:!D.appendToBody},[N(wi,{name:"dialog-fade",onAfterEnter:f(y),onAfterLeave:f(w),onBeforeLeave:f(b),persisted:""},{default:R(()=>[mi(N(f(Rn),{"custom-mask-event":"",mask:D.modal,"overlay-class":D.modalClass,"z-index":f(p)},{default:R(()=>[K("div",{role:"dialog","aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:f(u),"aria-describedby":f(d),class:x(`${f(s).namespace.value}-overlay-dialog`),style:le(f(l)),onClick:U[0]||(U[0]=(...F)=>f(O).onClick&&f(O).onClick(...F)),onMousedown:U[1]||(U[1]=(...F)=>f(O).onMousedown&&f(O).onMousedown(...F)),onMouseup:U[2]||(U[2]=(...F)=>f(O).onMouseup&&f(O).onMouseup(...F))},[N(f(yi),{loop:"",trapped:f(h),"focus-start-el":"container",onFocusAfterTrapped:f(_),onFocusAfterReleased:f(T),onFocusoutPrevented:f(E),onReleaseRequested:f(g)},{default:R(()=>[f(v)?(M(),Z(In,Je({key:0,ref_key:"dialogContentRef",ref:o},D.$attrs,{"custom-class":D.customClass,center:D.center,"align-center":D.alignCenter,"close-icon":D.closeIcon,draggable:f(B),fullscreen:D.fullscreen,"show-close":D.showClose,title:D.title,onClose:f(C)}),et({header:R(()=>[D.$slots.title?k(D.$slots,"title",{key:1}):k(D.$slots,"header",{key:0,close:f(C),titleId:f(u),titleClass:f(s).e("title")})]),default:R(()=>[k(D.$slots,"default")]),_:2},[D.$slots.footer?{name:"footer",fn:R(()=>[k(D.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):P("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Yn)]),_:3},8,["mask","overlay-class","z-index"]),[[bi,f(h)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Fn=ge(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Xn=He(Fn),jn=ne({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator: i=>i>=0&&i<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:A(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:A([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:A(Function),default: i=>`${i}%`}}),Gn=["aria-valuenow"],Vn={viewBox:"0 0 100 100"},qn=["d","stroke","stroke-width"],Kn=["d","stroke","opacity","stroke-linecap","stroke-width"],Zn={key:0},Qn=V({name:"ElProgress"}),Jn=V({...Qn,props:jn,setup(i){const e=i,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},t=ie("progress"),s=L(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:C(e.percentage)})),n=L(()=>(e.strokeWidth/e.width*100).toFixed(1)),r=L(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(n.value)/2}`,10):0),o=L(()=>{const m=r.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${m}
          a ${m} ${m} 0 1 1 0 ${_?"-":""}${m*2}
          a ${m} ${m} 0 1 1 0 ${_?"":"-"}${m*2}
          `}),h=L(()=>2*Math.PI*r.value),u=L(()=>e.type==="dashboard"?.75:1),d=L(()=>`${-1*h.value*(1-u.value)/2}px`),c=L(()=>({strokeDasharray:`${h.value*u.value}px, ${h.value}px`,strokeDashoffset:d.value})),l=L(()=>({strokeDasharray:`${h.value*u.value*(e.percentage/100)}px, ${h.value}px`,strokeDashoffset:d.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),v=L(()=>{let m;return e.color?m=C(e.percentage):m=a[e.status]||a.default,m}),p=L(()=>e.status==="warning"?Ci:e.type==="line"?e.status==="success"?wa:Di:e.status==="success"?Ea:Ca),y=L(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),w=L(()=>e.format(e.percentage));function b(m){const _=100/m.length;return m.map((g,E)=>tt(g)?{color:g,percentage:(E+1)*_}:g).sort((g,E)=>g.percentage-E.percentage)}const C=m=>{var _;const{color:T}=e;if(Ti(T))return T(m);if(tt(T))return T;{const g=b(T);for(const E of g)if(E.percentage>m)return E.color;return(_=g[g.length-1])==null?void 0:_.color}};return(m,_)=>(M(),H("div",{class:x([f(t).b(),f(t).m(m.type),f(t).is(m.status),{[f(t).m("without-text")]:!m.showText,[f(t).m("text-inside")]:m.textInside}]),role:"progressbar","aria-valuenow":m.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[m.type==="line"?(M(),H("div",{key:0,class:x(f(t).b("bar"))},[K("div",{class:x(f(t).be("bar","outer")),style:le({height:`${m.strokeWidth}px`})},[K("div",{class:x([f(t).be("bar","inner"),{[f(t).bem("bar","inner","indeterminate")]:m.indeterminate},{[f(t).bem("bar","inner","striped")]:m.striped},{[f(t).bem("bar","inner","striped-flow")]:m.stripedFlow}]),style:le(f(s))},[(m.showText||m.$slots.default)&&m.textInside?(M(),H("div",{key:0,class:x(f(t).be("bar","innerText"))},[k(m.$slots,"default",{percentage:m.percentage},()=>[K("span",null,Te(f(w)),1)])],2)):P("v-if",!0)],6)],6)],2)):(M(),H("div",{key:1,class:x(f(t).b("circle")),style:le({height:`${m.width}px`,width:`${m.width}px`})},[(M(),H("svg",Vn,[K("path",{class:x(f(t).be("circle","track")),d:f(o),stroke:`var(${f(t).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":f(n),fill:"none",style:le(f(c))},null,14,qn),K("path",{class:x(f(t).be("circle","path")),d:f(o),stroke:f(v),fill:"none",opacity:m.percentage?1:0,"stroke-linecap":m.strokeLinecap,"stroke-width":f(n),style:le(f(l))},null,14,Kn)]))],6)),(m.showText||m.$slots.default)&&!m.textInside?(M(),H("div",{key:2,class:x(f(t).e("text")),style:le({fontSize:`${f(y)}px`})},[k(m.$slots,"default",{percentage:m.percentage},()=>[m.status?(M(),Z(f(oe),{key:1},{default:R(()=>[(M(),Z(ma(f(p))))]),_:1})):(M(),H("span",Zn,Te(f(w)),1))])],6)):P("v-if",!0)],10,Gn))}});var es=ge(Jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ts=He(es),as=ne({prefixCls:{type:String}}),Wt=V({name:"ElSpaceItem",props:as,setup(i,{slots:e}){const a=ie("space"),t=L(()=>`${i.prefixCls||a.b()}__item`);return()=>va("div",{class:t.value},k(e,"default"))}}),Ft={small:8,default:12,large:16};function is(i){const e=ie("space"),a=L(()=>[e.b(),e.m(i.direction),i.class]),t=G(0),s=G(0),n=L(()=>{const o=i.wrap||i.fill?{flexWrap:"wrap",marginBottom:`-${s.value}px`}:{},h={alignItems:i.alignment};return[o,h,i.style]}),r=L(()=>{const o={paddingBottom:`${s.value}px`,marginRight:`${t.value}px`},h=i.fill?{flexGrow:1,minWidth:`${i.fillRatio}%`}:{};return[o,h]});return ha(()=>{const{size:o="small",wrap:h,direction:u,fill:d}=i;if(we(o)){const[c=0,l=0]=o;t.value=c,s.value=l}else{let c;Be(o)?c=o:c=Ft[o||"small"]||Ft.small,(h||d)&&u==="horizontal"?t.value=s.value=c:u==="horizontal"?(t.value=c,s.value=0):(s.value=c,t.value=0)}}),{classes:a,containerStyle:n,itemStyle:r}}const ns=ne({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:A([String,Object,Array]),default:""},style:{type:A([String,Array,Object]),default:""},alignment:{type:A(String),default:"center"},prefixCls:{type:String},spacer:{type:A([Object,String,Number,Array]),default:null,validator:i=>Da(i)||Be(i)||tt(i)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:xi,validator:i=>Be(i)||we(i)&&i.length===2&&i.every(Be)}}),ss=V({name:"ElSpace",props:ns,setup(i,{slots:e}){const{classes:a,containerStyle:t,itemStyle:s}=is(i);function n(r,o="",h=[]){const{prefixCls:u}=i;return r.forEach((d,c)=>{kt(d)?we(d.children)&&d.children.forEach((l,v)=>{kt(l)&&we(l.children)?n(l.children,`${o+v}-`,h):h.push(N(Wt,{style:s.value,prefixCls:u,key:`nested-${o+v}`},{default:()=>[l]},ae.PROPS|ae.STYLE,["style","prefixCls"]))}):Si(d)&&h.push(N(Wt,{style:s.value,prefixCls:u,key:`LoopKey${o+c}`},{default:()=>[d]},ae.PROPS|ae.STYLE,["style","prefixCls"]))}),h}return()=>{var r;const{spacer:o,direction:h}=i,u=k(e,"default",{key:0},()=>[]);if(((r=u.children)!=null?r:[]).length===0)return null;if(we(u.children)){let d=n(u.children);if(o){const c=d.length-1;d=d.reduce((l,v,p)=>{const y=[...l,v];return p!==c&&y.push(N("span",{style:[s.value,h==="vertical"?"width: 100%":null],key:p},[Da(o)?o:Ta(o,ae.TEXT)],ae.STYLE)),y},[])}return N("div",{class:a.value,style:t.value},d,ae.STYLE|ae.CLASS)}return u.children}}}),rs=He(ss),La=Symbol("uploadContextKey"),os="ElUpload";class ls extends Error{constructor(e,a,t,s){super(e),this.name="UploadAjaxError",this.status=a,this.method=t,this.url=s}}function Xt(i,e,a){let t;return a.response?t=`${a.response.error||a.response}`:a.responseText?t=`${a.responseText}`:t=`fail to ${e.method} ${i} ${a.status}`,new ls(t,a.status,e.method,i)}function cs(i){const e=i.responseText||i.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const us=i=>{typeof XMLHttpRequest>"u"&&Ye(os,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,a=i.action;e.upload&&e.upload.addEventListener("progress",n=>{const r=n;r.percent=n.total>0?n.loaded/n.total*100:0,i.onProgress(r)});const t=new FormData;if(i.data)for(const[n,r]of Object.entries(i.data))Array.isArray(r)?t.append(n,...r):t.append(n,r);t.append(i.filename,i.file,i.file.name),e.addEventListener("error",()=>{i.onError(Xt(a,i,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return i.onError(Xt(a,i,e));i.onSuccess(cs(e))}),e.open(i.method,a,!0),i.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const s=i.headers||{};if(s instanceof Headers)s.forEach((n,r)=>e.setRequestHeader(r,n));else for(const[n,r]of Object.entries(s))xa(r)||e.setRequestHeader(n,String(r));return e.send(t),e},Na=["text","picture","picture-card"];let ds=1;const nt=()=>Date.now()+ds++,$a=ne({action:{type:String,default:"#"},headers:{type:A(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>at({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:A(Array),default:()=>at([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Na,default:"text"},httpRequest:{type:A(Function),default:us},disabled:Boolean,limit:Number}),hs=ne({...$a,beforeUpload:{type:A(Function),default:X},beforeRemove:{type:A(Function)},onRemove:{type:A(Function),default:X},onChange:{type:A(Function),default:X},onPreview:{type:A(Function),default:X},onSuccess:{type:A(Function),default:X},onProgress:{type:A(Function),default:X},onError:{type:A(Function),default:X},onExceed:{type:A(Function),default:X}}),fs=ne({files:{type:A(Array),default:()=>at([])},disabled:{type:Boolean,default:!1},handlePreview:{type:A(Function),default:X},listType:{type:String,values:Na,default:"text"}}),ps={remove:i=>!!i},vs=["onKeydown"],gs=["src"],ms=["onClick"],ys=["title"],bs=["onClick"],ws=["onClick"],Es=V({name:"ElUploadList"}),Cs=V({...Es,props:fs,emits:ps,setup(i,{emit:e}){const{t:a}=ga(),t=ie("upload"),s=ie("icon"),n=ie("list"),r=We(),o=G(!1),h=u=>{e("remove",u)};return(u,d)=>(M(),Z(ki,{tag:"ul",class:x([f(t).b("list"),f(t).bm("list",u.listType),f(t).is("disabled",f(r))]),name:f(n).b()},{default:R(()=>[(M(!0),H(Mi,null,_i(u.files,c=>(M(),H("li",{key:c.uid||c.name,class:x([f(t).be("list","item"),f(t).is(c.status),{focusing:o.value}]),tabindex:"0",onKeydown:Sa(l=>!f(r)&&h(c),["delete"]),onFocus:d[0]||(d[0]=l=>o.value=!0),onBlur:d[1]||(d[1]=l=>o.value=!1),onClick:d[2]||(d[2]=l=>o.value=!1)},[k(u.$slots,"default",{file:c},()=>[u.listType==="picture"||c.status!=="uploading"&&u.listType==="picture-card"?(M(),H("img",{key:0,class:x(f(t).be("list","item-thumbnail")),src:c.url,alt:""},null,10,gs)):P("v-if",!0),c.status==="uploading"||u.listType!=="picture-card"?(M(),H("div",{key:1,class:x(f(t).be("list","item-info"))},[K("a",{class:x(f(t).be("list","item-name")),onClick:Ee(l=>u.handlePreview(c),["prevent"])},[N(f(oe),{class:x(f(s).m("document"))},{default:R(()=>[N(f(Oi))]),_:1},8,["class"]),K("span",{class:x(f(t).be("list","item-file-name")),title:c.name},Te(c.name),11,ys)],10,ms),c.status==="uploading"?(M(),Z(f(ts),{key:0,type:u.listType==="picture-card"?"circle":"line","stroke-width":u.listType==="picture-card"?6:2,percentage:Number(c.percentage),style:le(u.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):P("v-if",!0)],2)):P("v-if",!0),K("label",{class:x(f(t).be("list","item-status-label"))},[u.listType==="text"?(M(),Z(f(oe),{key:0,class:x([f(s).m("upload-success"),f(s).m("circle-check")])},{default:R(()=>[N(f(wa))]),_:1},8,["class"])):["picture-card","picture"].includes(u.listType)?(M(),Z(f(oe),{key:1,class:x([f(s).m("upload-success"),f(s).m("check")])},{default:R(()=>[N(f(Ea))]),_:1},8,["class"])):P("v-if",!0)],2),f(r)?P("v-if",!0):(M(),Z(f(oe),{key:2,class:x(f(s).m("close")),onClick:l=>h(c)},{default:R(()=>[N(f(Ca))]),_:2},1032,["class","onClick"])),P(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),P(" This is a bug which needs to be fixed "),P(" TODO: Fix the incorrect navigation interaction "),f(r)?P("v-if",!0):(M(),H("i",{key:3,class:x(f(s).m("close-tip"))},Te(f(a)("el.upload.deleteTip")),3)),u.listType==="picture-card"?(M(),H("span",{key:4,class:x(f(t).be("list","item-actions"))},[K("span",{class:x(f(t).be("list","item-preview")),onClick:l=>u.handlePreview(c)},[N(f(oe),{class:x(f(s).m("zoom-in"))},{default:R(()=>[N(f(Ai))]),_:1},8,["class"])],10,bs),f(r)?P("v-if",!0):(M(),H("span",{key:0,class:x(f(t).be("list","item-delete")),onClick:l=>h(c)},[N(f(oe),{class:x(f(s).m("delete"))},{default:R(()=>[N(f(Ri))]),_:1},8,["class"])],10,ws))],2)):P("v-if",!0)])],42,vs))),128)),k(u.$slots,"append")]),_:3},8,["class","name"]))}});var jt=ge(Cs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Ds=ne({disabled:{type:Boolean,default:!1}}),Ts={file:i=>we(i)},xs=["onDrop","onDragover"],Pa="ElUploadDrag",Ss=V({name:Pa}),Ms=V({...Ss,props:Ds,emits:Ts,setup(i,{emit:e}){const a=Qe(La);a||Ye(Pa,"usage: <el-upload><el-upload-dragger /></el-upload>");const t=ie("upload"),s=G(!1),n=We(),r=h=>{if(n.value)return;s.value=!1,h.stopPropagation();const u=Array.from(h.dataTransfer.files),d=a.accept.value;if(!d){e("file",u);return}const c=u.filter(l=>{const{type:v,name:p}=l,y=p.includes(".")?`.${p.split(".").pop()}`:"",w=v.replace(/\/.*$/,"");return d.split(",").map(b=>b.trim()).filter(b=>b).some(b=>b.startsWith(".")?y===b:/\/\*$/.test(b)?w===b.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(b)?v===b:!1)});e("file",c)},o=()=>{n.value||(s.value=!0)};return(h,u)=>(M(),H("div",{class:x([f(t).b("dragger"),f(t).is("dragover",s.value)]),onDrop:Ee(r,["prevent"]),onDragover:Ee(o,["prevent"]),onDragleave:u[0]||(u[0]=Ee(d=>s.value=!1,["prevent"]))},[k(h.$slots,"default")],42,xs))}});var _s=ge(Ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Os=ne({...$a,beforeUpload:{type:A(Function),default:X},onRemove:{type:A(Function),default:X},onStart:{type:A(Function),default:X},onSuccess:{type:A(Function),default:X},onProgress:{type:A(Function),default:X},onError:{type:A(Function),default:X},onExceed:{type:A(Function),default:X}}),As=["onKeydown"],Rs=["name","multiple","accept"],ks=V({name:"ElUploadContent",inheritAttrs:!1}),Ls=V({...ks,props:Os,setup(i,{expose:e}){const a=i,t=ie("upload"),s=We(),n=it({}),r=it(),o=p=>{if(p.length===0)return;const{autoUpload:y,limit:w,fileList:b,multiple:C,onStart:m,onExceed:_}=a;if(w&&b.length+p.length>w){_(p,b);return}C||(p=p.slice(0,1));for(const T of p){const g=T;g.uid=nt(),m(g),y&&h(g)}},h=async p=>{if(r.value.value="",!a.beforeUpload)return u(p);let y,w={};try{const C=a.data,m=a.beforeUpload(p);w=Lt(a.data)?Bt(a.data):a.data,y=await m,Lt(a.data)&&Dn(C,w)&&(w=Bt(a.data))}catch{y=!1}if(y===!1){a.onRemove(p);return}let b=p;y instanceof Blob&&(y instanceof File?b=y:b=new File([y],p.name,{type:p.type})),u(Object.assign(b,{uid:p.uid}),w)},u=(p,y)=>{const{headers:w,data:b,method:C,withCredentials:m,name:_,action:T,onProgress:g,onSuccess:E,onError:O,httpRequest:B}=a,{uid:D}=p,U={headers:w||{},withCredentials:m,file:p,data:y??b,method:C,filename:_,action:T,onProgress:q=>{g(q,p)},onSuccess:q=>{E(q,p),delete n.value[D]},onError:q=>{O(q,p),delete n.value[D]}},F=B(U);n.value[D]=F,F instanceof Promise&&F.then(U.onSuccess,U.onError)},d=p=>{const y=p.target.files;y&&o(Array.from(y))},c=()=>{s.value||(r.value.value="",r.value.click())},l=()=>{c()};return e({abort:p=>{Li(n.value).filter(p?([w])=>String(p.uid)===w:()=>!0).forEach(([w,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete n.value[w]})},upload:h}),(p,y)=>(M(),H("div",{class:x([f(t).b(),f(t).m(p.listType),f(t).is("drag",p.drag)]),tabindex:"0",onClick:c,onKeydown:Sa(Ee(l,["self"]),["enter","space"])},[p.drag?(M(),Z(_s,{key:0,disabled:f(s),onFile:o},{default:R(()=>[k(p.$slots,"default")]),_:3},8,["disabled"])):k(p.$slots,"default",{key:1}),K("input",{ref_key:"inputRef",ref:r,class:x(f(t).e("input")),name:p.name,multiple:p.multiple,accept:p.accept,type:"file",onChange:d,onClick:y[0]||(y[0]=Ee(()=>{},["stop"]))},null,42,Rs)],42,As))}});var Gt=ge(Ls,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Vt="ElUpload",Ns=i=>{var e;(e=i.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(i.url)},$s=(i,e)=>{const a=Ni(i,"fileList",void 0,{passive:!0}),t=l=>a.value.find(v=>v.uid===l.uid);function s(l){var v;(v=e.value)==null||v.abort(l)}function n(l=["ready","uploading","success","fail"]){a.value=a.value.filter(v=>!l.includes(v.status))}const r=(l,v)=>{const p=t(v);p&&(console.error(l),p.status="fail",a.value.splice(a.value.indexOf(p),1),i.onError(l,p,a.value),i.onChange(p,a.value))},o=(l,v)=>{const p=t(v);p&&(i.onProgress(l,p,a.value),p.status="uploading",p.percentage=Math.round(l.percent))},h=(l,v)=>{const p=t(v);p&&(p.status="success",p.response=l,i.onSuccess(l,p,a.value),i.onChange(p,a.value))},u=l=>{xa(l.uid)&&(l.uid=nt());const v={name:l.name,percentage:0,status:"ready",size:l.size,raw:l,uid:l.uid};if(i.listType==="picture-card"||i.listType==="picture")try{v.url=URL.createObjectURL(l)}catch(p){$i(Vt,p.message),i.onError(p,v,a.value)}a.value=[...a.value,v],i.onChange(v,a.value)},d=async l=>{const v=l instanceof File?t(l):l;v||Ye(Vt,"file to be removed not found");const p=y=>{s(y);const w=a.value;w.splice(w.indexOf(y),1),i.onRemove(y,w),Ns(y)};i.beforeRemove?await i.beforeRemove(v,a.value)!==!1&&p(v):p(v)};function c(){a.value.filter(({status:l})=>l==="ready").forEach(({raw:l})=>{var v;return l&&((v=e.value)==null?void 0:v.upload(l))})}return Ae(()=>i.listType,l=>{l!=="picture-card"&&l!=="picture"||(a.value=a.value.map(v=>{const{raw:p,url:y}=v;if(!y&&p)try{v.url=URL.createObjectURL(p)}catch(w){i.onError(w,v,a.value)}return v}))}),Ae(a,l=>{for(const v of l)v.uid||(v.uid=nt()),v.status||(v.status="success")},{immediate:!0,deep:!0}),{uploadFiles:a,abort:s,clearFiles:n,handleError:r,handleProgress:o,handleStart:u,handleSuccess:h,handleRemove:d,submit:c}},Ps=V({name:"ElUpload"}),Is=V({...Ps,props:hs,setup(i,{expose:e}){const a=i,t=ya(),s=We(),n=it(),{abort:r,submit:o,clearFiles:h,uploadFiles:u,handleStart:d,handleError:c,handleRemove:l,handleSuccess:v,handleProgress:p}=$s(a,n),y=L(()=>a.listType==="picture-card"),w=L(()=>({...a,fileList:u.value,onStart:d,onProgress:p,onSuccess:v,onError:c,onRemove:l}));return fa(()=>{u.value.forEach(({url:b})=>{b!=null&&b.startsWith("blob:")&&URL.revokeObjectURL(b)})}),ba(La,{accept:Pi(a,"accept")}),e({abort:r,submit:o,clearFiles:h,handleStart:d,handleRemove:l}),(b,C)=>(M(),H("div",null,[f(y)&&b.showFileList?(M(),Z(jt,{key:0,disabled:f(s),"list-type":b.listType,files:f(u),"handle-preview":b.onPreview,onRemove:f(l)},et({append:R(()=>[N(Gt,Je({ref_key:"uploadRef",ref:n},f(w)),{default:R(()=>[f(t).trigger?k(b.$slots,"trigger",{key:0}):P("v-if",!0),!f(t).trigger&&f(t).default?k(b.$slots,"default",{key:1}):P("v-if",!0)]),_:3},16)]),_:2},[b.$slots.file?{name:"default",fn:R(({file:m})=>[k(b.$slots,"file",{file:m})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):P("v-if",!0),!f(y)||f(y)&&!b.showFileList?(M(),Z(Gt,Je({key:1,ref_key:"uploadRef",ref:n},f(w)),{default:R(()=>[f(t).trigger?k(b.$slots,"trigger",{key:0}):P("v-if",!0),!f(t).trigger&&f(t).default?k(b.$slots,"default",{key:1}):P("v-if",!0)]),_:3},16)):P("v-if",!0),b.$slots.trigger?k(b.$slots,"default",{key:2}):P("v-if",!0),k(b.$slots,"tip"),!f(y)&&b.showFileList?(M(),Z(jt,{key:3,disabled:f(s),"list-type":b.listType,files:f(u),"handle-preview":b.onPreview,onRemove:f(l)},et({_:2},[b.$slots.file?{name:"default",fn:R(({file:m})=>[k(b.$slots,"file",{file:m})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):P("v-if",!0)]))}});var Bs=ge(Is,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Us=He(Bs);/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function qt(i,e){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),a.push.apply(a,t)}return a}function Ia(i){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?qt(Object(a),!0).forEach(function(t){Hs(i,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}function st(i){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(i)}function zs(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(i,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function Ys(i,e,a){return e&&Kt(i.prototype,e),a&&Kt(i,a),Object.defineProperty(i,"prototype",{writable:!1}),i}function Hs(i,e,a){return e in i?Object.defineProperty(i,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[e]=a,i}function Ba(i){return Ws(i)||Fs(i)||Xs(i)||js()}function Ws(i){if(Array.isArray(i))return rt(i)}function Fs(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Xs(i,e){if(i){if(typeof i=="string")return rt(i,e);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rt(i,e)}}function rt(i,e){(e==null||e>i.length)&&(e=i.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=i[a];return t}function js(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe=typeof window<"u"&&typeof window.document<"u",re=Fe?window:{},gt=Fe&&re.document.documentElement?"ontouchstart"in re.document.documentElement:!1,mt=Fe?"PointerEvent"in re:!1,$="cropper",yt="all",Ua="crop",za="move",Ya="zoom",fe="e",pe="w",me="s",ce="n",xe="ne",Se="nw",Me="se",_e="sw",ot="".concat($,"-crop"),Zt="".concat($,"-disabled"),J="".concat($,"-hidden"),Qt="".concat($,"-hide"),Gs="".concat($,"-invisible"),ze="".concat($,"-modal"),lt="".concat($,"-move"),Re="".concat($,"Action"),Pe="".concat($,"Preview"),bt="crop",Ha="move",Wa="none",ct="crop",ut="cropend",dt="cropmove",ht="cropstart",Jt="dblclick",Vs=gt?"touchstart":"mousedown",qs=gt?"touchmove":"mousemove",Ks=gt?"touchend touchcancel":"mouseup",ea=mt?"pointerdown":Vs,ta=mt?"pointermove":qs,aa=mt?"pointerup pointercancel":Ks,ia="ready",na="resize",sa="wheel",ft="zoom",ra="image/jpeg",Zs=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Qs=/^data:/,Js=/^data:image\/jpeg;base64,/,er=/^img|canvas$/i,Fa=200,Xa=100,oa={viewMode:0,dragMode:bt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Fa,minContainerHeight:Xa,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},tr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ar=Number.isNaN||re.isNaN;function S(i){return typeof i=="number"&&!ar(i)}var la=function(e){return e>0&&e<1/0};function qe(i){return typeof i>"u"}function ve(i){return st(i)==="object"&&i!==null}var ir=Object.prototype.hasOwnProperty;function ye(i){if(!ve(i))return!1;try{var e=i.constructor,a=e.prototype;return e&&a&&ir.call(a,"isPrototypeOf")}catch{return!1}}function Q(i){return typeof i=="function"}var nr=Array.prototype.slice;function ja(i){return Array.from?Array.from(i):nr.call(i)}function W(i,e){return i&&Q(e)&&(Array.isArray(i)||S(i.length)?ja(i).forEach(function(a,t){e.call(i,a,t,i)}):ve(i)&&Object.keys(i).forEach(function(a){e.call(i,i[a],a,i)})),i}var I=Object.assign||function(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),s=1;s<a;s++)t[s-1]=arguments[s];return ve(e)&&t.length>0&&t.forEach(function(n){ve(n)&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e},sr=/\.\d*(?:0|9){12}\d*$/;function Ce(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return sr.test(i)?Math.round(i*e)/e:i}var rr=/^width|height|left|top|marginLeft|marginTop$/;function ue(i,e){var a=i.style;W(e,function(t,s){rr.test(s)&&S(t)&&(t="".concat(t,"px")),a[s]=t})}function or(i,e){return i.classList?i.classList.contains(e):i.className.indexOf(e)>-1}function j(i,e){if(e){if(S(i.length)){W(i,function(t){j(t,e)});return}if(i.classList){i.classList.add(e);return}var a=i.className.trim();a?a.indexOf(e)<0&&(i.className="".concat(a," ").concat(e)):i.className=e}}function se(i,e){if(e){if(S(i.length)){W(i,function(a){se(a,e)});return}if(i.classList){i.classList.remove(e);return}i.className.indexOf(e)>=0&&(i.className=i.className.replace(e,""))}}function be(i,e,a){if(e){if(S(i.length)){W(i,function(t){be(t,e,a)});return}a?j(i,e):se(i,e)}}var lr=/([a-z\d])([A-Z])/g;function wt(i){return i.replace(lr,"$1-$2").toLowerCase()}function pt(i,e){return ve(i[e])?i[e]:i.dataset?i.dataset[e]:i.getAttribute("data-".concat(wt(e)))}function ke(i,e,a){ve(a)?i[e]=a:i.dataset?i.dataset[e]=a:i.setAttribute("data-".concat(wt(e)),a)}function cr(i,e){if(ve(i[e]))try{delete i[e]}catch{i[e]=void 0}else if(i.dataset)try{delete i.dataset[e]}catch{i.dataset[e]=void 0}else i.removeAttribute("data-".concat(wt(e)))}var Ga=/\s\s*/,Va=function(){var i=!1;if(Fe){var e=!1,a=function(){},t=Object.defineProperty({},"once",{get:function(){return i=!0,e},set:function(n){e=n}});re.addEventListener("test",a,t),re.removeEventListener("test",a,t)}return i}();function te(i,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a;e.trim().split(Ga).forEach(function(n){if(!Va){var r=i.listeners;r&&r[n]&&r[n][a]&&(s=r[n][a],delete r[n][a],Object.keys(r[n]).length===0&&delete r[n],Object.keys(r).length===0&&delete i.listeners)}i.removeEventListener(n,s,t)})}function ee(i,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a;e.trim().split(Ga).forEach(function(n){if(t.once&&!Va){var r=i.listeners,o=r===void 0?{}:r;s=function(){delete o[n][a],i.removeEventListener(n,s,t);for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];a.apply(i,d)},o[n]||(o[n]={}),o[n][a]&&i.removeEventListener(n,o[n][a],t),o[n][a]=s,i.listeners=o}i.addEventListener(n,s,t)})}function De(i,e,a){var t;return Q(Event)&&Q(CustomEvent)?t=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!0,!0,a)),i.dispatchEvent(t)}function qa(i){var e=i.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ke=re.location,ur=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ca(i){var e=i.match(ur);return e!==null&&(e[1]!==Ke.protocol||e[2]!==Ke.hostname||e[3]!==Ke.port)}function ua(i){var e="timestamp=".concat(new Date().getTime());return i+(i.indexOf("?")===-1?"?":"&")+e}function Oe(i){var e=i.rotate,a=i.scaleX,t=i.scaleY,s=i.translateX,n=i.translateY,r=[];S(s)&&s!==0&&r.push("translateX(".concat(s,"px)")),S(n)&&n!==0&&r.push("translateY(".concat(n,"px)")),S(e)&&e!==0&&r.push("rotate(".concat(e,"deg)")),S(a)&&a!==1&&r.push("scaleX(".concat(a,")")),S(t)&&t!==1&&r.push("scaleY(".concat(t,")"));var o=r.length?r.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function dr(i){var e=Ia({},i),a=0;return W(i,function(t,s){delete e[s],W(e,function(n){var r=Math.abs(t.startX-n.startX),o=Math.abs(t.startY-n.startY),h=Math.abs(t.endX-n.endX),u=Math.abs(t.endY-n.endY),d=Math.sqrt(r*r+o*o),c=Math.sqrt(h*h+u*u),l=(c-d)/d;Math.abs(l)>Math.abs(a)&&(a=l)})}),a}function Ie(i,e){var a=i.pageX,t=i.pageY,s={endX:a,endY:t};return e?s:Ia({startX:a,startY:t},s)}function hr(i){var e=0,a=0,t=0;return W(i,function(s){var n=s.startX,r=s.startY;e+=n,a+=r,t+=1}),e/=t,a/=t,{pageX:e,pageY:a}}function de(i){var e=i.aspectRatio,a=i.height,t=i.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",n=la(t),r=la(a);if(n&&r){var o=a*e;s==="contain"&&o>t||s==="cover"&&o<t?a=t/e:t=a*e}else n?a=t/e:r&&(t=a*e);return{width:t,height:a}}function fr(i){var e=i.width,a=i.height,t=i.degree;if(t=Math.abs(t)%180,t===90)return{width:a,height:e};var s=t%90*Math.PI/180,n=Math.sin(s),r=Math.cos(s),o=e*r+a*n,h=e*n+a*r;return t>90?{width:h,height:o}:{width:o,height:h}}function pr(i,e,a,t){var s=e.aspectRatio,n=e.naturalWidth,r=e.naturalHeight,o=e.rotate,h=o===void 0?0:o,u=e.scaleX,d=u===void 0?1:u,c=e.scaleY,l=c===void 0?1:c,v=a.aspectRatio,p=a.naturalWidth,y=a.naturalHeight,w=t.fillColor,b=w===void 0?"transparent":w,C=t.imageSmoothingEnabled,m=C===void 0?!0:C,_=t.imageSmoothingQuality,T=_===void 0?"low":_,g=t.maxWidth,E=g===void 0?1/0:g,O=t.maxHeight,B=O===void 0?1/0:O,D=t.minWidth,U=D===void 0?0:D,F=t.minHeight,q=F===void 0?0:F,z=document.createElement("canvas"),Y=z.getContext("2d"),he=de({aspectRatio:v,width:E,height:B}),Le=de({aspectRatio:v,width:U,height:q},"cover"),Xe=Math.min(he.width,Math.max(Le.width,p)),je=Math.min(he.height,Math.max(Le.height,y)),Et=de({aspectRatio:s,width:E,height:B}),Ct=de({aspectRatio:s,width:U,height:q},"cover"),Dt=Math.min(Et.width,Math.max(Ct.width,n)),Tt=Math.min(Et.height,Math.max(Ct.height,r)),Qa=[-Dt/2,-Tt/2,Dt,Tt];return z.width=Ce(Xe),z.height=Ce(je),Y.fillStyle=b,Y.fillRect(0,0,Xe,je),Y.save(),Y.translate(Xe/2,je/2),Y.rotate(h*Math.PI/180),Y.scale(d,l),Y.imageSmoothingEnabled=m,Y.imageSmoothingQuality=T,Y.drawImage.apply(Y,[i].concat(Ba(Qa.map(function(Ja){return Math.floor(Ce(Ja))})))),Y.restore(),z}var Ka=String.fromCharCode;function vr(i,e,a){var t="";a+=e;for(var s=e;s<a;s+=1)t+=Ka(i.getUint8(s));return t}var gr=/^data:.*,/;function mr(i){var e=i.replace(gr,""),a=atob(e),t=new ArrayBuffer(a.length),s=new Uint8Array(t);return W(s,function(n,r){s[r]=a.charCodeAt(r)}),t}function yr(i,e){for(var a=[],t=8192,s=new Uint8Array(i);s.length>0;)a.push(Ka.apply(null,ja(s.subarray(0,t)))),s=s.subarray(t);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}function br(i){var e=new DataView(i),a;try{var t,s,n;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var r=e.byteLength,o=2;o+1<r;){if(e.getUint8(o)===255&&e.getUint8(o+1)===225){s=o;break}o+=1}if(s){var h=s+4,u=s+10;if(vr(e,h,4)==="Exif"){var d=e.getUint16(u);if(t=d===18761,(t||d===19789)&&e.getUint16(u+2,t)===42){var c=e.getUint32(u+4,t);c>=8&&(n=u+c)}}}if(n){var l=e.getUint16(n,t),v,p;for(p=0;p<l;p+=1)if(v=n+p*12+2,e.getUint16(v,t)===274){v+=8,a=e.getUint16(v,t),e.setUint16(v,1,t);break}}}catch{a=1}return a}function wr(i){var e=0,a=1,t=1;switch(i){case 2:a=-1;break;case 3:e=-180;break;case 4:t=-1;break;case 5:e=90,t=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:a,scaleY:t}}var Er={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,a=this.options,t=this.container,s=this.cropper,n=Number(a.minContainerWidth),r=Number(a.minContainerHeight);j(s,J),se(e,J);var o={width:Math.max(t.offsetWidth,n>=0?n:Fa),height:Math.max(t.offsetHeight,r>=0?r:Xa)};this.containerData=o,ue(s,{width:o.width,height:o.height}),j(e,J),se(s,J)},initCanvas:function(){var e=this.containerData,a=this.imageData,t=this.options.viewMode,s=Math.abs(a.rotate)%180===90,n=s?a.naturalHeight:a.naturalWidth,r=s?a.naturalWidth:a.naturalHeight,o=n/r,h=e.width,u=e.height;e.height*o>e.width?t===3?h=e.height*o:u=e.width/o:t===3?u=e.width/o:h=e.height*o;var d={aspectRatio:o,naturalWidth:n,naturalHeight:r,width:h,height:u};this.canvasData=d,this.limited=t===1||t===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=I({},d)},limitCanvas:function(e,a){var t=this.options,s=this.containerData,n=this.canvasData,r=this.cropBoxData,o=t.viewMode,h=n.aspectRatio,u=this.cropped&&r;if(e){var d=Number(t.minCanvasWidth)||0,c=Number(t.minCanvasHeight)||0;o>1?(d=Math.max(d,s.width),c=Math.max(c,s.height),o===3&&(c*h>d?d=c*h:c=d/h)):o>0&&(d?d=Math.max(d,u?r.width:0):c?c=Math.max(c,u?r.height:0):u&&(d=r.width,c=r.height,c*h>d?d=c*h:c=d/h));var l=de({aspectRatio:h,width:d,height:c});d=l.width,c=l.height,n.minWidth=d,n.minHeight=c,n.maxWidth=1/0,n.maxHeight=1/0}if(a)if(o>(u?0:1)){var v=s.width-n.width,p=s.height-n.height;n.minLeft=Math.min(0,v),n.minTop=Math.min(0,p),n.maxLeft=Math.max(0,v),n.maxTop=Math.max(0,p),u&&this.limited&&(n.minLeft=Math.min(r.left,r.left+(r.width-n.width)),n.minTop=Math.min(r.top,r.top+(r.height-n.height)),n.maxLeft=r.left,n.maxTop=r.top,o===2&&(n.width>=s.width&&(n.minLeft=Math.min(0,v),n.maxLeft=Math.max(0,v)),n.height>=s.height&&(n.minTop=Math.min(0,p),n.maxTop=Math.max(0,p))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=s.width,n.maxTop=s.height},renderCanvas:function(e,a){var t=this.canvasData,s=this.imageData;if(a){var n=fr({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),r=n.width,o=n.height,h=t.width*(r/t.naturalWidth),u=t.height*(o/t.naturalHeight);t.left-=(h-t.width)/2,t.top-=(u-t.height)/2,t.width=h,t.height=u,t.aspectRatio=r/o,t.naturalWidth=r,t.naturalHeight=o,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,ue(this.canvas,I({width:t.width,height:t.height},Oe({translateX:t.left,translateY:t.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var a=this.canvasData,t=this.imageData,s=t.naturalWidth*(a.width/a.naturalWidth),n=t.naturalHeight*(a.height/a.naturalHeight);I(t,{width:s,height:n,left:(a.width-s)/2,top:(a.height-n)/2}),ue(this.image,I({width:t.width,height:t.height},Oe(I({translateX:t.left,translateY:t.top},t)))),e&&this.output()},initCropBox:function(){var e=this.options,a=this.canvasData,t=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,n={width:a.width,height:a.height};t&&(a.height*t>a.width?n.height=n.width/t:n.width=n.height*t),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*s),n.height=Math.max(n.minHeight,n.height*s),n.left=a.left+(a.width-n.width)/2,n.top=a.top+(a.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=I({},n)},limitCropBox:function(e,a){var t=this.options,s=this.containerData,n=this.canvasData,r=this.cropBoxData,o=this.limited,h=t.aspectRatio;if(e){var u=Number(t.minCropBoxWidth)||0,d=Number(t.minCropBoxHeight)||0,c=o?Math.min(s.width,n.width,n.width+n.left,s.width-n.left):s.width,l=o?Math.min(s.height,n.height,n.height+n.top,s.height-n.top):s.height;u=Math.min(u,s.width),d=Math.min(d,s.height),h&&(u&&d?d*h>u?d=u/h:u=d*h:u?d=u/h:d&&(u=d*h),l*h>c?l=c/h:c=l*h),r.minWidth=Math.min(u,c),r.minHeight=Math.min(d,l),r.maxWidth=c,r.maxHeight=l}a&&(o?(r.minLeft=Math.max(0,n.left),r.minTop=Math.max(0,n.top),r.maxLeft=Math.min(s.width,n.left+n.width)-r.width,r.maxTop=Math.min(s.height,n.top+n.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=s.width-r.width,r.maxTop=s.height-r.height))},renderCropBox:function(){var e=this.options,a=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,e.movable&&e.cropBoxMovable&&ke(this.face,Re,t.width>=a.width&&t.height>=a.height?za:yt),ue(this.cropBox,I({width:t.width,height:t.height},Oe({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),De(this.element,ct,this.getData())}},Cr={initPreview:function(){var e=this.element,a=this.crossOrigin,t=this.options.preview,s=a?this.crossOriginUrl:this.url,n=e.alt||"The image to preview",r=document.createElement("img");if(a&&(r.crossOrigin=a),r.src=s,r.alt=n,this.viewBox.appendChild(r),this.viewBoxImage=r,!!t){var o=t;typeof t=="string"?o=e.ownerDocument.querySelectorAll(t):t.querySelector&&(o=[t]),this.previews=o,W(o,function(h){var u=document.createElement("img");ke(h,Pe,{width:h.offsetWidth,height:h.offsetHeight,html:h.innerHTML}),a&&(u.crossOrigin=a),u.src=s,u.alt=n,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',h.innerHTML="",h.appendChild(u)})}},resetPreview:function(){W(this.previews,function(e){var a=pt(e,Pe);ue(e,{width:a.width,height:a.height}),e.innerHTML=a.html,cr(e,Pe)})},preview:function(){var e=this.imageData,a=this.canvasData,t=this.cropBoxData,s=t.width,n=t.height,r=e.width,o=e.height,h=t.left-a.left-e.left,u=t.top-a.top-e.top;!this.cropped||this.disabled||(ue(this.viewBoxImage,I({width:r,height:o},Oe(I({translateX:-h,translateY:-u},e)))),W(this.previews,function(d){var c=pt(d,Pe),l=c.width,v=c.height,p=l,y=v,w=1;s&&(w=l/s,y=n*w),n&&y>v&&(w=v/n,p=s*w,y=v),ue(d,{width:p,height:y}),ue(d.getElementsByTagName("img")[0],I({width:r*w,height:o*w},Oe(I({translateX:-h*w,translateY:-u*w},e))))}))}},Dr={bind:function(){var e=this.element,a=this.options,t=this.cropper;Q(a.cropstart)&&ee(e,ht,a.cropstart),Q(a.cropmove)&&ee(e,dt,a.cropmove),Q(a.cropend)&&ee(e,ut,a.cropend),Q(a.crop)&&ee(e,ct,a.crop),Q(a.zoom)&&ee(e,ft,a.zoom),ee(t,ea,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&ee(t,sa,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&ee(t,Jt,this.onDblclick=this.dblclick.bind(this)),ee(e.ownerDocument,ta,this.onCropMove=this.cropMove.bind(this)),ee(e.ownerDocument,aa,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&ee(window,na,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,a=this.options,t=this.cropper;Q(a.cropstart)&&te(e,ht,a.cropstart),Q(a.cropmove)&&te(e,dt,a.cropmove),Q(a.cropend)&&te(e,ut,a.cropend),Q(a.crop)&&te(e,ct,a.crop),Q(a.zoom)&&te(e,ft,a.zoom),te(t,ea,this.onCropStart),a.zoomable&&a.zoomOnWheel&&te(t,sa,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&te(t,Jt,this.onDblclick),te(e.ownerDocument,ta,this.onCropMove),te(e.ownerDocument,aa,this.onCropEnd),a.responsive&&te(window,na,this.onResize)}},Tr={resize:function(){if(!this.disabled){var e=this.options,a=this.container,t=this.containerData,s=a.offsetWidth/t.width,n=a.offsetHeight/t.height,r=Math.abs(s-1)>Math.abs(n-1)?s:n;if(r!==1){var o,h;e.restore&&(o=this.getCanvasData(),h=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(W(o,function(u,d){o[d]=u*r})),this.setCropBoxData(W(h,function(u,d){h[d]=u*r})))}}},dblclick:function(){this.disabled||this.options.dragMode===Wa||this.setDragMode(or(this.dragBox,ot)?Ha:bt)},wheel:function(e){var a=this,t=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*t,e)))},cropStart:function(e){var a=e.buttons,t=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(S(a)&&a!==1||S(t)&&t!==0||e.ctrlKey))){var s=this.options,n=this.pointers,r;e.changedTouches?W(e.changedTouches,function(o){n[o.identifier]=Ie(o)}):n[e.pointerId||0]=Ie(e),Object.keys(n).length>1&&s.zoomable&&s.zoomOnTouch?r=Ya:r=pt(e.target,Re),Zs.test(r)&&De(this.element,ht,{originalEvent:e,action:r})!==!1&&(e.preventDefault(),this.action=r,this.cropping=!1,r===Ua&&(this.cropping=!0,j(this.dragBox,ze)))}},cropMove:function(e){var a=this.action;if(!(this.disabled||!a)){var t=this.pointers;e.preventDefault(),De(this.element,dt,{originalEvent:e,action:a})!==!1&&(e.changedTouches?W(e.changedTouches,function(s){I(t[s.identifier]||{},Ie(s,!0))}):I(t[e.pointerId||0]||{},Ie(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var a=this.action,t=this.pointers;e.changedTouches?W(e.changedTouches,function(s){delete t[s.identifier]}):delete t[e.pointerId||0],a&&(e.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,be(this.dragBox,ze,this.cropped&&this.options.modal)),De(this.element,ut,{originalEvent:e,action:a}))}}},xr={change:function(e){var a=this.options,t=this.canvasData,s=this.containerData,n=this.cropBoxData,r=this.pointers,o=this.action,h=a.aspectRatio,u=n.left,d=n.top,c=n.width,l=n.height,v=u+c,p=d+l,y=0,w=0,b=s.width,C=s.height,m=!0,_;!h&&e.shiftKey&&(h=c&&l?c/l:1),this.limited&&(y=n.minLeft,w=n.minTop,b=y+Math.min(s.width,t.width,t.left+t.width),C=w+Math.min(s.height,t.height,t.top+t.height));var T=r[Object.keys(r)[0]],g={x:T.endX-T.startX,y:T.endY-T.startY},E=function(B){switch(B){case fe:v+g.x>b&&(g.x=b-v);break;case pe:u+g.x<y&&(g.x=y-u);break;case ce:d+g.y<w&&(g.y=w-d);break;case me:p+g.y>C&&(g.y=C-p);break}};switch(o){case yt:u+=g.x,d+=g.y;break;case fe:if(g.x>=0&&(v>=b||h&&(d<=w||p>=C))){m=!1;break}E(fe),c+=g.x,c<0&&(o=pe,c=-c,u-=c),h&&(l=c/h,d+=(n.height-l)/2);break;case ce:if(g.y<=0&&(d<=w||h&&(u<=y||v>=b))){m=!1;break}E(ce),l-=g.y,d+=g.y,l<0&&(o=me,l=-l,d-=l),h&&(c=l*h,u+=(n.width-c)/2);break;case pe:if(g.x<=0&&(u<=y||h&&(d<=w||p>=C))){m=!1;break}E(pe),c-=g.x,u+=g.x,c<0&&(o=fe,c=-c,u-=c),h&&(l=c/h,d+=(n.height-l)/2);break;case me:if(g.y>=0&&(p>=C||h&&(u<=y||v>=b))){m=!1;break}E(me),l+=g.y,l<0&&(o=ce,l=-l,d-=l),h&&(c=l*h,u+=(n.width-c)/2);break;case xe:if(h){if(g.y<=0&&(d<=w||v>=b)){m=!1;break}E(ce),l-=g.y,d+=g.y,c=l*h}else E(ce),E(fe),g.x>=0?v<b?c+=g.x:g.y<=0&&d<=w&&(m=!1):c+=g.x,g.y<=0?d>w&&(l-=g.y,d+=g.y):(l-=g.y,d+=g.y);c<0&&l<0?(o=_e,l=-l,c=-c,d-=l,u-=c):c<0?(o=Se,c=-c,u-=c):l<0&&(o=Me,l=-l,d-=l);break;case Se:if(h){if(g.y<=0&&(d<=w||u<=y)){m=!1;break}E(ce),l-=g.y,d+=g.y,c=l*h,u+=n.width-c}else E(ce),E(pe),g.x<=0?u>y?(c-=g.x,u+=g.x):g.y<=0&&d<=w&&(m=!1):(c-=g.x,u+=g.x),g.y<=0?d>w&&(l-=g.y,d+=g.y):(l-=g.y,d+=g.y);c<0&&l<0?(o=Me,l=-l,c=-c,d-=l,u-=c):c<0?(o=xe,c=-c,u-=c):l<0&&(o=_e,l=-l,d-=l);break;case _e:if(h){if(g.x<=0&&(u<=y||p>=C)){m=!1;break}E(pe),c-=g.x,u+=g.x,l=c/h}else E(me),E(pe),g.x<=0?u>y?(c-=g.x,u+=g.x):g.y>=0&&p>=C&&(m=!1):(c-=g.x,u+=g.x),g.y>=0?p<C&&(l+=g.y):l+=g.y;c<0&&l<0?(o=xe,l=-l,c=-c,d-=l,u-=c):c<0?(o=Me,c=-c,u-=c):l<0&&(o=Se,l=-l,d-=l);break;case Me:if(h){if(g.x>=0&&(v>=b||p>=C)){m=!1;break}E(fe),c+=g.x,l=c/h}else E(me),E(fe),g.x>=0?v<b?c+=g.x:g.y>=0&&p>=C&&(m=!1):c+=g.x,g.y>=0?p<C&&(l+=g.y):l+=g.y;c<0&&l<0?(o=Se,l=-l,c=-c,d-=l,u-=c):c<0?(o=_e,c=-c,u-=c):l<0&&(o=xe,l=-l,d-=l);break;case za:this.move(g.x,g.y),m=!1;break;case Ya:this.zoom(dr(r),e),m=!1;break;case Ua:if(!g.x||!g.y){m=!1;break}_=qa(this.cropper),u=T.startX-_.left,d=T.startY-_.top,c=n.minWidth,l=n.minHeight,g.x>0?o=g.y>0?Me:xe:g.x<0&&(u-=c,o=g.y>0?_e:Se),g.y<0&&(d-=l),this.cropped||(se(this.cropBox,J),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}m&&(n.width=c,n.height=l,n.left=u,n.top=d,this.action=o,this.renderCropBox()),W(r,function(O){O.startX=O.endX,O.startY=O.endY})}},Sr={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&j(this.dragBox,ze),se(this.cropBox,J),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=I({},this.initialImageData),this.canvasData=I({},this.initialCanvasData),this.cropBoxData=I({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(I(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),se(this.dragBox,ze),j(this.cropBox,J)),this},replace:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),a?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,W(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,se(this.cropper,Zt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,j(this.cropper,Zt)),this},destroy:function(){var e=this.element;return e[$]?(e[$]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,s=t.left,n=t.top;return this.moveTo(qe(e)?e:s+Number(e),qe(a)?a:n+Number(a))},moveTo:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,s=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(S(e)&&(t.left=e,s=!0),S(a)&&(t.top=a,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,a){var t=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(t.width*e/t.naturalWidth,null,a)},zoomTo:function(e,a,t){var s=this.options,n=this.canvasData,r=n.width,o=n.height,h=n.naturalWidth,u=n.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var d=h*e,c=u*e;if(De(this.element,ft,{ratio:e,oldRatio:r/h,originalEvent:t})===!1)return this;if(t){var l=this.pointers,v=qa(this.cropper),p=l&&Object.keys(l).length?hr(l):{pageX:t.pageX,pageY:t.pageY};n.left-=(d-r)*((p.pageX-v.left-n.left)/r),n.top-=(c-o)*((p.pageY-v.top-n.top)/o)}else ye(a)&&S(a.x)&&S(a.y)?(n.left-=(d-r)*((a.x-n.left)/r),n.top-=(c-o)*((a.y-n.top)/o)):(n.left-=(d-r)/2,n.top-=(c-o)/2);n.width=d,n.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),S(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var a=this.imageData.scaleY;return this.scale(e,S(a)?a:1)},scaleY:function(e){var a=this.imageData.scaleX;return this.scale(S(a)?a:1,e)},scale:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.imageData,s=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(S(e)&&(t.scaleX=e,s=!0),S(a)&&(t.scaleY=a,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,t=this.imageData,s=this.canvasData,n=this.cropBoxData,r;if(this.ready&&this.cropped){r={x:n.left-s.left,y:n.top-s.top,width:n.width,height:n.height};var o=t.width/t.naturalWidth;if(W(r,function(d,c){r[c]=d/o}),e){var h=Math.round(r.y+r.height),u=Math.round(r.x+r.width);r.x=Math.round(r.x),r.y=Math.round(r.y),r.width=u-r.x,r.height=h-r.y}}else r={x:0,y:0,width:0,height:0};return a.rotatable&&(r.rotate=t.rotate||0),a.scalable&&(r.scaleX=t.scaleX||1,r.scaleY=t.scaleY||1),r},setData:function(e){var a=this.options,t=this.imageData,s=this.canvasData,n={};if(this.ready&&!this.disabled&&ye(e)){var r=!1;a.rotatable&&S(e.rotate)&&e.rotate!==t.rotate&&(t.rotate=e.rotate,r=!0),a.scalable&&(S(e.scaleX)&&e.scaleX!==t.scaleX&&(t.scaleX=e.scaleX,r=!0),S(e.scaleY)&&e.scaleY!==t.scaleY&&(t.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var o=t.width/t.naturalWidth;S(e.x)&&(n.left=e.x*o+s.left),S(e.y)&&(n.top=e.y*o+s.top),S(e.width)&&(n.width=e.width*o),S(e.height)&&(n.height=e.height*o),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?I({},this.containerData):{}},getImageData:function(){return this.sized?I({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,a={};return this.ready&&W(["left","top","width","height","naturalWidth","naturalHeight"],function(t){a[t]=e[t]}),a},setCanvasData:function(e){var a=this.canvasData,t=a.aspectRatio;return this.ready&&!this.disabled&&ye(e)&&(S(e.left)&&(a.left=e.left),S(e.top)&&(a.top=e.top),S(e.width)?(a.width=e.width,a.height=e.width/t):S(e.height)&&(a.height=e.height,a.width=e.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:e.left,top:e.top,width:e.width,height:e.height}),a||{}},setCropBoxData:function(e){var a=this.cropBoxData,t=this.options.aspectRatio,s,n;return this.ready&&this.cropped&&!this.disabled&&ye(e)&&(S(e.left)&&(a.left=e.left),S(e.top)&&(a.top=e.top),S(e.width)&&e.width!==a.width&&(s=!0,a.width=e.width),S(e.height)&&e.height!==a.height&&(n=!0,a.height=e.height),t&&(s?a.height=a.width/t:n&&(a.width=a.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,t=pr(this.image,this.imageData,a,e);if(!this.cropped)return t;var s=this.getData(),n=s.x,r=s.y,o=s.width,h=s.height,u=t.width/Math.floor(a.naturalWidth);u!==1&&(n*=u,r*=u,o*=u,h*=u);var d=o/h,c=de({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),l=de({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),v=de({aspectRatio:d,width:e.width||(u!==1?t.width:o),height:e.height||(u!==1?t.height:h)}),p=v.width,y=v.height;p=Math.min(c.width,Math.max(l.width,p)),y=Math.min(c.height,Math.max(l.height,y));var w=document.createElement("canvas"),b=w.getContext("2d");w.width=Ce(p),w.height=Ce(y),b.fillStyle=e.fillColor||"transparent",b.fillRect(0,0,p,y);var C=e.imageSmoothingEnabled,m=C===void 0?!0:C,_=e.imageSmoothingQuality;b.imageSmoothingEnabled=m,_&&(b.imageSmoothingQuality=_);var T=t.width,g=t.height,E=n,O=r,B,D,U,F,q,z;E<=-o||E>T?(E=0,B=0,U=0,q=0):E<=0?(U=-E,E=0,B=Math.min(T,o+E),q=B):E<=T&&(U=0,B=Math.min(o,T-E),q=B),B<=0||O<=-h||O>g?(O=0,D=0,F=0,z=0):O<=0?(F=-O,O=0,D=Math.min(g,h+O),z=D):O<=g&&(F=0,D=Math.min(h,g-O),z=D);var Y=[E,O,B,D];if(q>0&&z>0){var he=p/o;Y.push(U*he,F*he,q*he,z*he)}return b.drawImage.apply(b,[t].concat(Ba(Y.map(function(Le){return Math.floor(Ce(Le))})))),w},setAspectRatio:function(e){var a=this.options;return!this.disabled&&!qe(e)&&(a.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var a=this.options,t=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var n=e===bt,r=a.movable&&e===Ha;e=n||r?e:Wa,a.dragMode=e,ke(t,Re,e),be(t,ot,n),be(t,lt,r),a.cropBoxMovable||(ke(s,Re,e),be(s,ot,n),be(s,lt,r))}return this}},Mr=re.Cropper,Za=function(){function i(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(zs(this,i),!e||!er.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=I({},oa,ye(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Ys(i,[{key:"init",value:function(){var a=this.element,t=a.tagName.toLowerCase(),s;if(!a[$]){if(a[$]=this,t==="img"){if(this.isImg=!0,s=a.getAttribute("src")||"",this.originalUrl=s,!s)return;s=a.src}else t==="canvas"&&window.HTMLCanvasElement&&(s=a.toDataURL());this.load(s)}}},{key:"load",value:function(a){var t=this;if(a){this.url=a,this.imageData={};var s=this.element,n=this.options;if(!n.rotatable&&!n.scalable&&(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Qs.test(a)){Js.test(a)?this.read(mr(a)):this.clone();return}var r=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=o,r.onerror=o,r.ontimeout=o,r.onprogress=function(){r.getResponseHeader("content-type")!==ra&&r.abort()},r.onload=function(){t.read(r.response)},r.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&ca(a)&&s.crossOrigin&&(a=ua(a)),r.open("GET",a,!0),r.responseType="arraybuffer",r.withCredentials=s.crossOrigin==="use-credentials",r.send()}}},{key:"read",value:function(a){var t=this.options,s=this.imageData,n=br(a),r=0,o=1,h=1;if(n>1){this.url=yr(a,ra);var u=wr(n);r=u.rotate,o=u.scaleX,h=u.scaleY}t.rotatable&&(s.rotate=r),t.scalable&&(s.scaleX=o,s.scaleY=h),this.clone()}},{key:"clone",value:function(){var a=this.element,t=this.url,s=a.crossOrigin,n=t;this.options.checkCrossOrigin&&ca(t)&&(s||(s="anonymous"),n=ua(t)),this.crossOrigin=s,this.crossOriginUrl=n;var r=document.createElement("img");s&&(r.crossOrigin=s),r.src=n||t,r.alt=a.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),j(r,Qt),a.parentNode.insertBefore(r,a.nextSibling)}},{key:"start",value:function(){var a=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var s=re.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(re.navigator.userAgent),n=function(u,d){I(a.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),a.initialImageData=I({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(t.naturalWidth&&!s){n(t.naturalWidth,t.naturalHeight);return}var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),s||o.removeChild(r)},r.src=t.src,s||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,t=this.options,s=this.image,n=a.parentNode,r=document.createElement("div");r.innerHTML=tr;var o=r.querySelector(".".concat($,"-container")),h=o.querySelector(".".concat($,"-canvas")),u=o.querySelector(".".concat($,"-drag-box")),d=o.querySelector(".".concat($,"-crop-box")),c=d.querySelector(".".concat($,"-face"));this.container=n,this.cropper=o,this.canvas=h,this.dragBox=u,this.cropBox=d,this.viewBox=o.querySelector(".".concat($,"-view-box")),this.face=c,h.appendChild(s),j(a,J),n.insertBefore(o,a.nextSibling),se(s,Qt),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,j(d,J),t.guides||j(d.getElementsByClassName("".concat($,"-dashed")),J),t.center||j(d.getElementsByClassName("".concat($,"-center")),J),t.background&&j(o,"".concat($,"-bg")),t.highlight||j(c,Gs),t.cropBoxMovable&&(j(c,lt),ke(c,Re,yt)),t.cropBoxResizable||(j(d.getElementsByClassName("".concat($,"-line")),J),j(d.getElementsByClassName("".concat($,"-point")),J)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Q(t.ready)&&ee(a,ia,t.ready,{once:!0}),De(a,ia)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),se(this.element,J)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Mr,i}},{key:"setDefaults",value:function(a){I(oa,ye(a)&&a)}}]),i}();I(Za.prototype,Er,Cr,Dr,Tr,xr,Sr);const _r=i=>(Ui("data-v-0343c251"),i=i(),zi(),i),Or=["src"],Ar=_r(()=>K("div",{class:"preview"},null,-1)),Rr={__name:"PictureCropping",setup(i,{expose:e}){const a=G();let t=G(""),s=G(!1),n;function r(){n&&n.destroy(),n=new Za(a.value,{viewMode:1,dragMode:"none",initialAspectRatio:1,aspectRatio:1,preview:".preview",background:!1,autoCropArea:.6,zoomOnWheel:!1,zoomable:!0})}let o=G(()=>{});return e({slice:async u=>new Promise(d=>{t.value=u,s.value=!0,o.value=()=>{s.value=!1,d(n)}})}),(u,d)=>{const c=rs,l=Bi,v=Xn;return M(),Z(v,{onOpen:r,modelValue:f(s),"onUpdate:modelValue":d[0]||(d[0]=p=>pa(s)?s.value=p:s=p),center:"",title:u.$t("图片裁剪"),width:"30%"},{default:R(()=>[N(c,{wrap:!0},{default:R(()=>[K("img",{class:"image",ref_key:"image",ref:a,alt:"",src:f(t)},null,8,Or),Ar]),_:1})]),footer:R(()=>[N(l,{type:"success",onClick:f(o)},{default:R(()=>[Ta(Te(u.$t("提交")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","title"])}}},kr=Ii(Rr,[["__scopeId","data-v-0343c251"]]),Pr={__name:"UploadImage",setup(i){const e=G([]),a=G();async function t(n){let r=await s(n.file);r=(await a.value.slice(r)).getCroppedCanvas({imageSmoothingQuality:"high"}).toDataURL("image/gif"),e.value.length=e.value.length-1,e.value.push({url:r})}const s=async n=>new Promise(r=>{let o=new FileReader;o.readAsDataURL(n),o.onload=h=>{r(o.result)}});return(n,r)=>{const o=oe,h=Us;return M(),H("div",null,[N(kr,{ref_key:"cropper",ref:a},null,512),N(h,{"file-list":e.value,"onUpdate:fileList":r[0]||(r[0]=u=>e.value=u),"list-type":"picture-card","auto-upload":!0,"http-request":t},{default:R(()=>[N(o,null,{default:R(()=>[N(f(Yi))]),_:1})]),_:1},8,["file-list"])])}}};export{Pr as default};
